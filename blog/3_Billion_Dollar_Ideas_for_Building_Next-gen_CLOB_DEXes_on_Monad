---
title: 30亿美元的构想--在 Monad 上构建下一代 CLOB DEX
description: 本文深入探讨了 如何在Monad上构建下一代CLOB DEX，并且详细分析介绍了CLOB DEX。
image: /blog/CD1.jpg
---

# 30亿美元的构想--在 Monad 上构建下一代 CLOB DEX

![CD1](/blog/CD1.jpg)

:::tip 原文
https://x.com/FishMarketAcad/status/1933574838360457398  
翻译：keyneszeng
:::

由于交易者要求中心化交易所的精确度、低滑点和熟悉的体验，中心化限价订单簿 (CLOB) 是 DeFi 领域的热门话题。

然而，如今基于链上 CLOB 的现货 DEX 仍然存在以下老问题：
1.流动性分散
2.资本使用效率低下
3.闲置资产

我在最早的完全链上混合订单簿 DEX 之一工作了四年，在此期间，我对如何改进 CLOB 有一些想法。我相信下一代 DEX 不会仅仅在链上复制 CEX 的功能；它们会进行超越 CEX 的创新。

本文探讨了三个创新特性，我相信它们可以解决上述问题，并将 CLOB 转变为更优越的交易原语：
1.Omni Orderbook（又名 Omnibook）
2.并行流动性订单簿（又名 PLOB）
3.综合借贷

虽然这是 3 个独立的想法，但它们并不互相排斥，因为它们是解决不同问题的独立层，并且实际上可以构建成一个强大的单一 DEX。

让我们看看这些概念是如何工作的，当然还有为什么像 Monad 这样的高性能、并行化的 EVM 具有独特的优势，可以将这些疯狂的想法变为现实。

注意：这是一篇包含许多概念的长文，我强烈建议您将其加入书签并重读以完全理解它们，如果您是可以执行这些概念的开发人员，Monad 很乐意为您提供支持！


## 1. Omnibook：统一的流动性层
在独立的 DEX 上进行任何大规模的市场买入都可能造成严重的滑点。然而，具备 Omnibook 功能的 DEX 可以智能地拆分订单，并将其路由到多个平台，以实现最佳执行效果。其核心是一个复杂的匹配引擎，可以实时显示聚合的流动性，所有操作均通过智能合约以原子方式执行。
这种智能路由的概念已经在 Monad 上被一些团队率先采用，例如@CloberDex，他们在网络上构建了第一个元聚合器。 

![CD2](/blog/CD2.jpg)

Omnibook 的愿景将这一关键步骤向前推进了一步：如果这些聚合流动性不再是一个“黑匣子”，而是在一个统一的订单簿上完全可视化，会怎么样？如果聚合的不仅仅是链上 AMM 的流动性，又会怎么样？
Omnibook 是一项聚合所有可用来源流动性的功能，例如（但不限于）：
1.自己的混合订单簿
2.链上流动性
3.中心化交易所
4.基于意图的系统

上述流动性来源及更多来源可以组合成单一、统一的订单簿界面，为交易者提供更深层次的市场和更小的价差。

让我们深入研究一下它们（以便开发人员能够受到启发）：

### 其自己的混合订单簿
DEX 的原生订单簿是其基础。现代 CLOB 不应强制采用一刀切的方案。混合订单簿既能满足需要精准限价订单的成熟做市商的需求，也能满足偏好更简单、一劳永逸体验的被动流动性提供者的需求。

这就是@KuruExchange 顺便说一下已经在 Monad 上实现了！
![CD3](/blog/CD3.jpg)

这不仅限于现货 DEX，@DrakeExchange 这是一个基于 Monad 原生构建的永久 DEX，还具有带有流动性保险库的混合订单簿！

![CD4](/blog/CD4.jpg)

这种混合模型将标准限价订单簿与集成的AMM 式流动性金库相结合。
- 对于活跃交易者和做市商：他们可以直接在 CLOB 上下限价单、报价并运行复杂的算法，就像在 CEX 上一样。
- 对于被动流动性提供者：他们可以将资产存入自动做市商 (AMM) 的金库。该金库会收集他们的资金池资金，并自动为他们在订单簿上提供流动性，从而赚取交易费，就像在 Uniswap 上一样。

这些保险库如何运作？
金库并非独立存在，而是与订单簿紧密集成。它通过算法将被动流动性头寸（通常基于常见的曲线，例如 Uniswap v2 的 x*y=k 模型、Uniswap v3 的集中区间，甚至 Kyberswap 针对 1:1 挂钩资产（不计收益）的放大系数）转换为 CLOB 上的一系列离散限价订单。
可以将其想象成将平滑的斜坡（AMM 曲线）变成非常精细的楼梯（一系列限价订单）。
这个过程在概念上类似于微积分中的一个核心原理：用离散步骤近似连续函数。在微积分中，你使用积分（具体来说是黎曼和）来求曲线下的面积，即通过对无数个小矩形的面积求和。

比较相似之处：
- 黎曼和中矩形的宽度（Δx）类似于订单簿上的价格变动单位（例如，0.01 美元或 1 个基点）。这是沿价格轴的离散步长。
- 矩形的高度（f（x））类似于特定价格点的流动性深度（订单规模） 。
- 黎曼和近似的总面积（积分）类似于价格范围内可用的总流动性。
![CD5](/blog/CD5.jpg)

这意味着矩形越薄，刻度尺寸越小，并且会让 AMM 流动性感觉更像顶级中心化交易所：
- 更低的价差：做市商可以将买卖价差控制在非常接近真实市场价格的水平，从而最大限度地降低买卖价差。这直接惠及交易者，使他们在每次掉期交易中损失更少。
- 更准确的定价：资产价格可以更高程度地反映市场情绪。
- 对流动性提供者 (LP) 的执行更公平：AMM 金库的行为更忠实地反映了其应遵循的纯数学曲线。其定价中的“缺口”更少，从而降低了被套利者利用不精确定价进行套利的风险。

那么，为什么不把最小变动价位做得很细呢？这有个缺点：每次把最小变动价位减半，任何给定范围内的价格点数量就会翻倍。

对于试图将其曲线“整合”（这番话很有意思）到订单簿的AMM金库来说，这不是一个线性问题，而是一个指数级问题。其弊端非常严重：
1. 巨大的计算和状态开销：如果一个金库需要在每个交易周期下单，那么将交易周期减半意味着它现在需要管理两倍的订单。此外，当市场价格变动、金库订单成交以及金库内部“价格”发生变化时，它必须调整订单，取消并替换可能数千个订单以重新调整流动性，这其中还包括处理部分成交的逻辑。这带来了巨大的计算负担。大量的订单也会使区块链状态膨胀。
2. 高昂的 Gas 成本：所有这些操作（下单、取消订单等）都需要 Gas 费用。在像以太坊这样的区块链上，一个金库持续维护数千个独立订单的 Gas 费用将是天文数字。金库的运营将变得经济上不可能，因为运营成本将远远超过流动性提供者赚取的任何交易费用。这就是为什么完全链上、精细化的限价订单簿在速度较慢的区块链上难以获得发展的主要原因。
3. 高延迟和流动性提供商风险：在顺序区块链上，处理数千笔交易需要时间。如果由于区块链拥堵导致金库的订单更新落后于实际市场价格，就会变得脆弱。套利机器人会发现过时、定价错误的订单并进行交易，从而榨干金库流动性提供商的价值。市场波动越快，流动性提供商的损失就越大。

你可以选择精准（小 ticks），也可以选择低成本和低延迟，但在顺序链上，两者无法兼得。然而，在并行链上……

### 如何基于 Monad 解决这一问题

这就是 Monad 架构从根本上改变现状的地方。它直接解决了高精度带来的弊端。
- 并行执行计算：Monad 可以并行处理来自保险库的数千个“取消并替换”订单交易。由于更新价格为 P 的订单与更新价格为 P + tick 的订单并不冲突，因此这些操作非常适合并行化。这大大降低了流动性更新的延迟，保护流动性提供者免受套利。
- 高吞吐量，低 Gas 成本：Monad 每秒处理海量交易的能力（主网每秒 1 万 TPS 或 10 亿 Gas）降低了每笔交易的成本。这使得金库能够以中心化交易所 (CEX) 级别的最小变动单位 (tick size) 管理超粒度的订单簿，从而在经济上可行，因为运营成本变得微不足道。
- 状态访问：MonadDb解决了从存储中读取和写入数千个订单槽的挑战，MonadDb 是一个专为高频并行读取而设计的自定义数据库。
- 流动性提供者 (LP) 风险：Monad 的异步执行和1 秒内完成确认功能，确保这些复杂的流动性更新不仅能够快速处理，而且几乎可以立即完成。这大大减少了价格套利的机会，从而保护了金库中的 LP 免受风险。

本质上，Monad 让 DEX 摆脱了精度与性能之间的权衡。它能够创建一个既具有数学上的精确性，又具有经济可持续性的混合订单簿，为用户提供两全其美的体验：AMM 的被动、轻松体验，以及专业交易场所的敏锐、高效的执行。
现在您已经更好地理解了为什么混合订单簿是良好的流动性来源，以及为什么它们在 Monad 上表现更好，让我们转到 Omnibook 可以提供的下一种流动性类型。

### 链上流动性：利用 DeFi 生态系统

除了自身的混合订单簿之外，Omnibook 的真正优势在于它能够充当整个链上生态系统的通用流动性中心。这意味着它不仅能从自身的金库获取流动性，还能从同一链上运行的所有其他主流 DeFi 协议、其他 CLOB、AMM 甚至聚合器（当然，由于存在重叠，因此并非全部）获取流动性，并将所有这些信息呈现在一个统一的界面上。

让我们分解一下来源以及整合它们的难易程度。

#### 易于集成

- 最简单：DEX 聚合器。如果订单簿 DEX 也拥有简化的掉期 UI（不显示订单簿），它可以轻松地将聚合器集成到其掉期功能中。然而，我们讨论的是 CLOB，因此如果要以深度图（类似完整的订单簿）的形式实时显示聚合器的流动性，那么这无疑是最难的，我稍后会解释原因。
- 简单：其他链上 CLOB。与其他订单簿 DEX 集成是最直接的“同类”集成方式。流动性数据已经是离散格式（特定价格点的限价订单）。主要任务是读取外部订单簿的状态，并将其价格水平和深度映射到 Omnibook 的界面上。
- 难点：直接集成 AMM。直接与 Uniswap 这样的单个 AMM 集成更加复杂。正如我们所讨论的，这需要“黎曼和”逻辑——不断读取 AMM 的内部状态（其曲线），并将该连续函数转换为一系列离散的顺序。虽然计算量很大，但该逻辑是独立的，并且针对的是单一且定义明确的协议。
- 最难：实时聚合深度。这是元问题，也是迄今为止最复杂的集成。为了显示来自聚合器的实时深度图，Omnibook 必须实时执行聚合器的工作。这涉及对所有底层流动性源进行大量计算密集型调用，并在其自身系统中从头构建聚合深度图。它继承了所有其他集成的复杂性。

#### 双重挑战：计算和陈旧性

成功整合这些来源需要克服两个巨大的障碍：表示的计算成本和陈旧数据的经济风险。
1. 计算成本（“如何”问题）
将十几条 AMM 曲线转化为实时订单簿是一项艰巨的计算任务。即使在高性能链上，这真的可行吗？
是的，但这需要策略性的方法。在 Monad 上原生执行这些计算，虽然比顺序链便宜数千倍，但仍然会产生非零成本。有远见的 DEX 不应该将其视为技术障碍，而应该将其作为一种市场进入策略。
在发展阶段，DEX 可以使用其资金库来补贴聚合的 Gas 成本。这将技术成本转化为强大的用户获取工具，为交易者免费提供无与伦比的链上流动性总览。随着 DEX 市场份额的扩大，网络效应逐渐显现：高交易量吸引更多流动性提供者 (LP) 将资金原生部署到 DEX 自身高效的混合金库中。随着时间的推移，DEX 的原生流动性将变得非常深厚，以至于其对昂贵的外部聚合的依赖逐渐减少，从而形成可持续的、长期的竞争壁垒。
那么协处理器呢？它们可以降低计算成本，因为链上任务变成了验证AMM到订单簿转换的证明。然而，以目前的技术，它们无法提供实时的、逐块的更新（如果我错了，请指正）。这种延迟可能会破坏实时交易所的核心目的，对于非紧急交易者来说，实时交易所可能没问题，但在这种情况下，使用基于意图的系统可能是更好的方法。

2. 数据过时的风险（“时间”问题）
这是实时聚合外部流动性过程中固有的更微妙但关键的权衡。这是一个“检查时间到使用时间”（TOCTOU）漏洞，是典型的竞争条件，复杂的 MEV 机器人可以利用它。
以下是市价单的流程：
1.检查时间：在区块 N 中，Omnibook 合约读取外部 Uniswap 池上的价格（例如 3,000 USDC/ETH）。
2.竞赛：MEV 机器人看到用户的交易以此价格为目标，并通过首先向 Uniswap 池提交自己的交易来抢先 Omnibook。
3.使用时间：机器人的交易首先执行，将 Uniswap 的实际价格推高至 3,001 USDC。然后，用户的交易以略低的价格执行。

对于专业交易者来说，0.03% 的滑点就是一种损失。然而，对于进行小额交易的散户来说，获取深度流动性的便利性可能比微小的价差更有价值。这不一定是每个人的“问题”，但获取聚合流动性的已知权衡利弊。DEX的用户界面应该清楚地表明这一点。
此漏洞也会影响限价订单，但方式不同。与滑点不同，MEV 机器人会移动价格，导致交易完全失败，即使价格看似达到了用户的目标，从而产生“虚假订单、价格或流动性”，损害信任。

### Monad 如何使链上聚合更安全、更高效

Monad 的架构旨在克服这种陈旧数据漏洞。
- 缩小套利窗口：Monad 0.5 秒的出块时间是主要的防御措施。“检查”和“使用”之间的时间被压缩。这给套利机器人提供了更小的窗口来发现机会并提交竞争交易。虽然并非不可能利用，但利用起来会变得更加困难，利润也会更低。
- 通过并行执行实现高效查询：Omnibook 需要检查多个外部协议的状态才能找到最佳价格。在顺序链上，这意味着查询 Uniswap，然后等待结果，最后查询 Curve。在 Monad 上，这些检查可以并行执行。Omnibook 可以同时查询所有相关的链上流动性来源，几乎可以即时且高效地全面了解市场情况。
- 可靠的可组合性：作为完全等同于 EVM 的环境，Omnibook 可以无缝集成任何从以太坊移植的协议。Omnibook 可以可靠地调用并与其他合约交互，因为它知道底层执行环境快速、廉价且安全，能够抵御那些困扰速度较慢的区块链的各种延迟攻击。

### 整合中心化交易所 (CEX) 流动性：获得无与伦比的深度

为了真正参与竞争，DEX 需要利用加密货币领域最深的流动性池：中心化交易所。Omnibook 可以通过利用独立中介机构（或称经纪商）网络，以非托管的方式实现这一点。
当用户下单交易，且该交易最适合路由至中心化交易所 (CEX) 时，经纪商会使用用户预存资金的中心化交易所账户，代表用户执行交易，并在链上进行原子结算。在交易完成之前，用户的资金永远不会离开钱包，从而彻底消除了存款风险。

以下是原子结算过程的简化演练：
- 订单与锁定：用户执行吃单，使用 USDC 购买 MON。用户的交易将被路由至经纪商。Monad 上的智能合约会锁定用户的 USDC。
- 链下执行：经纪商的软件检测到锁定资金，这是一个无风险信号，可以继续执行。他们使用自有资金在中心化交易所 (CEX) 上执行相应的买入订单。
- 链上履行：经纪人立即将购买的资产（例如，MON）从 CEX 直接提取到用户的链上钱包中。
- 释放和结算：智能合约自动检测 MON 到达用户钱包，并将锁定的 USDC 释放给经纪人，并收取少量服务费。

##### 挑战：资本和资产可用性
尽管该模型非常优雅，但它在现实世界中也存在两个重大挑战，阻碍了其广泛应用：
1. 经纪商资本问题。经纪商是资本密集型的​​。他们既需要大量的权益才能获得信任，也需要在多个中心化交易所 (CEX) 拥有充足的营运资金才能完成订单。这种高门槛可能导致网络中心化，最终只有少数几家大型、资本雄厚的经纪商参与。然而，随着 Monad 生态系统的成熟，这个问题可以得到缓解。不难想象，在 Monad 上部署共享安全协议（例如 EigenLayer），允许经纪商使用重新质押的资产来满足其资本质押要求，从而显著降低其进入门槛。
2. 中心化交易所 (CEX) 资产可用性问题。经纪人模式仅适用于可在中心化交易所 (CEX) 和 Monad 链之间自由存取的资产，例如 MON 和 USDC。这将限制 Omnibook 的 CEX 集成仅限于这些特定市场。这需要业务发展方面的努力，以鼓励 CEX 上线更多 Monad 原生资产，或允许非原生资产在 Monad 之间存取。然而，随着生态系统的发展，这一挑战自然会得到解决。随着越来越多优质应用在 Monad 上发行代币，并随后在主流 CEX 上线，能够从深度 CEX 流动性集成中受益的市场数量将随着时间的推移而自然增长。
3. 延迟风险问题。这是 Monad 直接解决的关键技术漏洞。经纪商在中心化交易所 (CEX) 上花费自有资金和从链上合约获得补偿之间的时间间隔内面临风险。这个“风险窗口”包括 CEX 提现处理时间，以及最重要的区块链最终确认时间。

### Monad 如何使 Broker 模型可行

Monad 的架构经过独特设计，解决了延迟风险问题，从而使资本问题更易于管理。
- 通过 1 秒确定性解决延迟风险：这是最重要的特性。Monad 的1 秒确定性将经纪商的链上风险窗口从几分钟缩短到一秒。一秒内不可逆的结算是微小且可接受的商业风险。这一特性将经纪商模式从危险的赌博转变为安全、可行且有利可图的模式。
- 提高资本效率：通过降低风险和结算时间，Monad 使经纪商能够更快地循环资金。经纪商可以用相同的资金池每天处理数百或数千笔交易，而在速度较慢的区块链上，这些资金池可能只能处理几十笔交易。这可以提高经纪商的利润，降低进入门槛，从而鼓励更去中心化的经纪商网络参与其中。
- 低成本交易：结算流程由智能合约管理，确保原子经济结果，这意味着交易要么对双方都成功完成，要么完全失败。Monad 的低 Gas 费用确保这种信任最小化的交互成本几乎可以忽略不计，即使价差较小，经纪商也能盈利。

### 基于意图的系统：统一网关

Omnibook 可以利用的最后一层流动性是最具前瞻性的：基于意图的系统。
让我们通过现实世界的类比来快速理解意图：
- 标准交易：你去一家餐馆，自己走进厨房（上链），张开嘴告诉厨师如何烹饪你的饭菜（张开嘴意味着你要花自己的燃气费），然后当场付款。
- 意图（签名信息）：你写一张纸条，上面写着：“我想要一份50美元以下的牛排，这是我的信用卡信息，可以证明我愿意支付。” 然后你把这张纸条交给一位私人购物顾问（即“解决者”）。这位购物顾问（他认识所有最好的屠夫，甚至可能有折扣卡）会去寻找最好的牛排，为你烹饪，然后送货上门。你只需在最终餐点送达时付款，所有中间步骤都由购物顾问处理。

链上交易与链下意图之间的区别：
- 链上交易：当你提交标准交易（例如 Uniswap 上的掉期交易）时，实际上是直接向区块链发送命令。你需要预先支付 Gas 费用，矿工/验证者有义务尝试在链上打包并执行你的命令。
- 链下签名消息：当您签署一个意图时，您将使用您的私钥创建一条数据，内容为：“我，钱包 0xabc...，授权此特定结果”。这条签名消息本身无需提交到区块链，它只是一条数据。它本身不具备任何权力，创建它也无需消耗任何 Gas。然后，您将这条签名消息交给一个解算器或意图网络，他们会接收您授权的意图，并围绕它构建一个实际的、可执行的链上交易。解算器将支付 Gas 费用并提交这笔最终交易。

##### 挑战：碎片化的用户体验
传统上，意图的世界，包括其 RFQ 系统和求解器，与链上 CLOB 的世界是两个截然不同的世界。用户被迫做出选择：“我想要 CLOB 精准透明的体验，还是想要‘黑箱’意图系统可能更优惠的定价？” 这种割裂造成了混乱且低效的用户决策体验。

##### 解决方案：每个订单也是一个意图
下一代 DEX 可以采用强大的并行方法。在 Omnibook 上提交的每一笔订单都会同时被视为两件事：
1. 原生链上 CLOB 上的订单。
2. 向求解器网络公开广播意图。
该系统遵循“两全其美”的原则运行。下单后，DEX 会启动一个非常短的拍卖期（例如，单个 Monad 区块的持续时间）。在此期间，清算者可以竞争以击败原生 CLOB 上的价格。用户可以保证从链上订单簿或链下清算者（以较优者为准）获得最佳执行。

##### 增值：为什么这会改变游戏规则
这种模式具有显著的增值作用，因为它将 DEX 从一个简单的交易场所提升为一个通用的意图平台。
- 保证最优价格：交易者无需在不同系统之间进行选择。他们只需与单一深度订单簿进行交互，即可无缝获取来自各个来源的流动性——包括原生做市商、AMM 以及庞大的链下意图世界。
- 创建流动性超级层：这将产生强大的网络效应。原生 CLOB 流动性现在可以与基于意图的流动性互动。订单簿上的限价订单可以由满足链下意图的求解器执行，反之亦然。整个系统的流动性和效率将超过其各部分之和。
- 通过“意图信号”实现面向未来：这是最显著的优势。该平台不再局限于简单的掉期交易。它可以成为表达任何复杂金融需求的中心。虽然需要一个新的用户界面（UIUX）来简化这些订单的创建，但我认为它带来的益处是值得的。用户可以提交执行交易的意图，例如：
“执行 TWAP（时间加权平均价格）订单，在接下来的一小时内购买 100 ETH。”
“当我的收益农场奖励达到 50 美元时，领取并重新投资。”“仅当gas 价格低于某个阈值时才出售我的 ETH 。”

此外，这不必局限于单条链。这项技术的最终目标是抽象出区块链本身。这正是像Aori这样的协议正在创新的愿景。通过将通用的基于意图的系统与 LayerZero 这样的跨链消息传递层相结合，他们的目标是将 DEX 打造成通往任何链上任何代币的无缝门户。
![CD6](/blog/CD6.png)
想象一下这样的用户体验：基于 Monad 的 DEX 上的用户可以提交意向，将其 USDC 兑换为仅在 Solana 上存在的特定代币。链下解决方案将接受此意向，在后台处理所有复杂的桥接和兑换操作，并将最终的基于 Solana 的代币发送回用户指定的地址。用户只需签署一条消息即可表达他们的意愿。
对于这样的系统，Monad 是理想的“大本营”，一个超高性能、低成本的结算和资产管理中心，用户可以安全高效地与整个多链世界进行交互。这将使 DEX 从一个生态系统的中心转变为通往所有加密货币的真正门户。

##### 权衡与用户选择
这个强大的模型确实存在一些弊端。由于系统需要等待求解器出价，可交易订单的执行会略微延迟（最多一个区块，在 Monad 上大约 1 秒）。虽然对于大多数用户来说，延迟可以忽略不计，尤其是在为了获得更优惠的价格的情况下，但它可能并不适合所有高频策略。
这就是极致用户体验的体现。Omnibook 可以将其作为用户可配置的设置提供。交易者可以选择：
- “优化最佳价格”模式（默认）：广播他们的订单以获得最佳执行。
- “仅限本机”模式：仅将其订单提交给链上 CLOB，选择退出意向系统，以采用最直接的执行路径，尽管执行路径的价格优化程度可能较低。

### Monad 如何实现这一愿景

这个通用意图中心的宏伟愿景给底层链带来了巨大的数据处理负担。
- 处理数据流：平台必须处理持续不断的简单报价、复杂的结构化意图以及求解器解决方案。Monad 的并行执行和 MonadDb对于管理此信息管道而不阻塞网络至关重要。
- 实现复杂的结算：满足多步骤条件意图的求解器将生成非常复杂的交易。Monad 的高 Gas 限额和性能确保这些复杂的交易能够在链上顺利结算。这个强大的结算层使求解器有信心构建和提供更先进的产品。
- 以可信中立性破解“黑箱”：“许多意图系统的最大风险在于依赖中心化的排序器或构建器，这些排序器或构建器可能会审查或抢先交易用户。Monad 的全球分布式验证器集提供了可信中立性。由于没有单一的、占主导地位的实体控制区块生产，任何一方都更难以操纵意图流。这为解决者营造了一个真正公平开放的市场，这直接转化为为用户带来更好、更可靠的结果。

### Omnibook 要点：统一且以用户为中心的未来

Omnibook 不仅仅是一项功能，更是对 DEX 的全新构想。作为通用的流动性枢纽，它解决了当今困扰 DeFi 的核心问题——碎片化。
让我们回顾一下它可以整合的流动性层次：
- 原生混合订单簿：将 CLOB 的精确性与 AMM 保险库的简单性相结合
- 链上流动性：利用 Monad 的高性能和低延迟，安全地利用其他链上协议（如 AMM）
- CEX 流动性：通过非托管经纪商获取 CEX 流动性  
- 基于意图的系统：允许用户下订单，这些订单将以意图的形式并行广播，以便从竞争性求解器网络中获得最佳价格

最终，Omnibook 的复杂性经过精心设计，旨在打造简洁、强大且以用户为中心的体验。用户界面是整个设计的核心。通过一系列简单的切换，交易者可以根据自身的独特需求和风险承受能力定制体验。

想象一下交易者可以选择的界面：
- ☑️原生流动性：最快、最直接的执行路径。 
- ☑️链上聚合：从其他 AMM 获取更深层次的流动性，了解数据陈旧的轻微风险。
- CEX 经纪商网络：利用中心化交易所的深度来获取大额订单。
- 基于意图的优化：将他们的订单广播给求解器以找到绝对最佳价格，接受一秒钟的优化延迟。

这就是最终目标：DEX 不会强迫用户采用单一模型，而是提供一套全面的工具，让用户能够选择构建自己完美的交易体验。
汇总所有流动性之后，让我们探索一下 DEX 如何通过查看 PLOB 来更有效地确保流动性。

## 2. 并行流动性订单簿（PLOB）：增强资本效率

![CD7](/blog/CD7.jpg)
传统的 CLOB 就像一个立方体：其资本（体积）局限于单一市场（低表面积）。
A PLOB 就像一颗星星：同样的资本被投射到数百个市场，大大增加了其赚取费用的“表面积”。
Volume = TVL
Surface area = Market Exposure / Fee generating opportunities

Omnibook 专注于聚合外部流动性，而并行流动性订单簿 (PLOB) 则彻底改变了 DEX 利用自身内部原生流动性的方式。这是资本效率的范式转变，从孤立的流动性池转变为统一的共享流动性模型。

##### 核心概念：有限的流动性池，无限的市场敞口
让我们用一个类比来解释 CLOB 和 PLOB 之间的区别。

##### CLOB：就像为每张账单设立一个单独的银行账户
你有一个银行账户专门用于支付房租，另一个账户用于支付电费，还有一个账户用于购买食品杂货。为了支付房租，你必须确保这个账户里有足够的钱。如果你的食品杂货账户里有多余的现金，它就无法帮助你支付房租。当你需要流动性的时候，你就需要不断地在账户之间转移资金。

##### PLOB：就像拥有一个使用智能软件来处理账单的单一账户一样。
你所有的资金都集中在一个中央账户里。你的预算软件（PLOB 逻辑）知道你即将到期的账单（你在所有市场的未结限价单）。它会在心理上预留资金，但资金永远不会真正锁定。如果出现意外支出（成交的交易），资金就会从中央池中扣除，软件会立即重新计算所有其他即将到期账单的剩余金额，并“取消”你无法再承担的账单。

这一概念对于现货市场来说非常强大，并成为永久合约的真正游戏规则改变者。
大声呼喊@0xceleris 这是据我所知第一个构建此功能的 PLOB DEX。
![CD8](/blog/CD8.jpg)

还是不明白？我们来看一些具体的例子

#### 现货市场的 PLOB
在传统的现货AMM中，如果要为MON/USDC和MON/ETH提供流动性，则需要将资金存入两个独立的资金池。这需要大量的资金。
PLOB 模型打破了这一限制。在 PLOB DEX 中，LP 可以将单一资产（例如 MON）存入主 PLOB 保险库合约，然后指定他们希望将此单一资金池“复制”或“并行化”到哪些市场。
然后，PLOB 系统获取他们的单边 MON 存款，并通过算法将其同时表示为其所选所有市场的订单簿流动性。
这意味着单笔 10,000 美元的 MON 存款可用于同时为 MON/USDC、MON/ETH 和 MON/SOL 订单簿提供卖方流动性。
这大大增加了资本利用的“表面积” 。LP 的 MON 不再只是等待一个市场的波动，而是积极提供流动性，并从多个市场的波动中赚取费用。
手续费收入的增加确实伴随着一些利弊。由于交易多个交易对，LP 的资金也面临来自多个方向的无常损失 (IL)。然而，对于长期看好基础资产（本例中为 MON）的 LP 来说，手续费收入的增加可能超过 IL 带来的风险，因此这是一个极具吸引力的策略。

##### 示例 1：并行化流动性
让我们来看一个详细的例子。假设 MON 的交易价格为 1.00 美元。
- Alice 的存款：Alice 将 1,000 个 MON 存入 PLOB 金库。她希望为 MON-USDC 和 MON-ETH 市场提供流动性。
- 预测：PLOB 系统使用我们之前讨论过的“AMM 到订单簿”可视化，将其流动性投射到两个市场：
  在MON/USDC 订单簿上，她的 1,000 个 MON 的“卖墙”以一系列限价卖单的形式出现，可能集中在 1.00 美元到 1.05 美元的范围内。
  在MON/ETH 订单簿上，出现了另一个相同的1,000 MON的卖墙，价格接近当前 MON/ETH 汇率。
  Alice 现在使用单一资金来源为两大主要货币对提供深度卖方流动性。而且，这种模式可以扩展到 N 个市场。

##### 示例 2：填充上的原子级联
奇迹就在这里发生。一秒钟后，市场开始波动。
1. 成交：MON/USDC 市场上的大买家推高价格，并根据 Alice 的流动性范围执行交易。她的 500 个 MON 被兑换为 510 个 USDC。
2. 主账户更新：Alice 的主保险库状态现在是：500 MON 和 510 USDC。
3. 原子级联：由于她现在只有 500 MON 可供出售，系统必须以原子方式（在同一笔交易中）更新她在所有其他关联市场上的流动性。她在 MON/ETH 订单簿上提供的卖出墙会立即自动减少 500 MON 。这样可以防止系统承诺已售出的流动性。如果 MON 兑 USDC 的价格随后下跌，而她持有的 510 USDC 被兑换回约 500 MON，她在 MON/ETH 市场上的流动性将自动恢复。

现货市场中 PLOB 系统的复杂性会随着涉及的报价资产数量的增加而增长。同时追踪流动性提供者 (LP) 在 MON、USDC、ETH 和 SOL 上的持仓价值和状态是一项重大挑战。
当应用于使用单一、统一面额进行保证金和结算的环境（例如永续市场）时，该模型变得更加无缝和强大。

#### 永久市场中的 PLOB

在永续合约的世界里，所有利润、损失和抵押品通常都以单一稳定币（例如 USDC）计价，PLOB 模型可以以最纯粹、最强大的形式实现。在这里，用户的保证金不仅仅是资本；它是一把解锁整个平台风险敞口的万能钥匙。
在基于 PLOB 的永续 DEX 中，用户的保证金不会被锁定在单个仓位或订单上。相反，他们的整个账户保证金将作为一个单一的共享抵押池，可以同时支持所有市场的未平仓限价订单和未平仓仓位。

让我们通过两个关键的例子来探讨这一点。

##### 例 1：交易员的视角（“臭投标人”）
想象一下，一位交易员喜欢在市场波动期间发出“臭价买入价”和“价外卖出价”来捕捉利润。
- 场景：一位交易者的保证金账户中有 1,000 美元。BTC 交易价格为 10 万美元，ETH 交易价格为 3,000 美元。
- PLOB 优势：交易者可以使用其单个 1,000 美元保证金池同时下达多个限价订单：
  BTC 限价多头订单，价格为 90,000 美元。
  BTC 的限价卖空订单为 110,000 美元。
  ETH 的限价多头订单为 2,500 美元。
  ETH 的限价空头订单价格为 3,500 美元。
- 原子成交：如果市场突然暴跌（例如关税或战争恐慌）导致 ETH 价格跌至 2,500 美元，他们的 ETH 多头订单将被成交。此新开仓位所需的保证金将从他们的总账户中扣除。系统会在同一原子交易中立即重新计算其剩余可用保证金。如果剩余保证金不足以支持其未平仓的 BTC 或 SOL 订单，则这些订单将被自动取消，从而避免任何清算风险。

这使得交易者可以最大限度地利用市场机会，而无需为每笔潜在交易将资本分割成小块。

##### 示例 2：Vault 的视角（超流动性 Perp DEX
这就是 PLOB 模型真正闪耀的地方。设想一个拥有单一流动性金库（例如 Hyperliquid 的 HLP）的永久去中心化交易所 (perp DEX)，它为交易者提供流动性。
- 情况：一家去中心化交易所 (DEX) 拥有 100 个市场，但其流动性池中只有 100 万美元。在传统模式下，这意味着每个市场平均只有 1 万美元的流动性深度，这非常薄弱。
- PLOB 的优势：PLOB 允许金库将其全部 100 万美元的流动性深度同时投射到所有 100 个市场（双向）。从 BTC 到刚刚上市的最新 memecoin，每个市场的订单簿都显得深度和满载。
- 优势：这极大地增加了金库资金的“利用面”。金库不再仅仅从少数几个活跃市场赚取费用，而是从整个平台的交易中赚取费用。
- 再平衡：当交易者持有市场的某一方（例如，做多 BTC）时，金库的风险敞口会发生变化。金库可以通过算法将此因素纳入其报价策略，从而产生资金利率偏差，激励套利者持有另一方，从而释放金库的资金，并重新平衡其 delta 敞口风险。

这种保险库福利还可以扩展到用户创建的保险库，使独立交易者能够更高效地利用他们收到的资金（或者更快地获得 rekt 哈哈）。

这具有显著的好处：
- 彻底的资本效率：交易者和做市商可以使用相同的资本池同时为数十个市场提供流动性，从而大幅增加其潜在的风险敞口和费用产生。
- 新市场的即时流动性：DEX 可以列出新的代币对或永久市场，并从第一天起就拥有深度、流动的订单簿，因为 LP 可以提供流动性而无需分散其资本。
- 动态做市：流动性库可以部署复杂的策略，根据实时风险敞口（波动率、伽马、德尔塔等）动态调整所有市场的报价和价差。

因此，与 TVL 为 100 倍的竞争对手相比，基于 PLOB 的 perp DEX 可以提供超流动性（再次双关）的交易体验。

##### 挑战：状态同步
追踪单个保证金池在数百个市场的实时敞口，并立即重新计算和取消订单，其计算复杂度极其巨大。这正是我们在现货部分讨论的“状态同步噩梦”，只不过被放大了。
这个问题感觉就像 Monad 量身定制的。并行执行对于处理单笔成交后跨多个市场的订单取消原子级联至关重要。高吞吐量和低 Gas 费用使持续的订单管理在经济上可行。MonadDb提供了快速、并行的状态访问，可以同时读取主保证金账户和所有关联的订单簿。
PLOB 模型（适用于现货和永续合约）代表了链上效率的飞跃，这种效率只有在高性能并行环境中才具有实用性。

### 如何实现 PLOB 以及 Monad 如何使其实用

一个关键问题是系统如何管理这种复杂且相互关联的状态。一种方法是采用模块化的“中心辐射型”架构。
- 枢纽：单一主账户合约作为核心。其唯一职责是持有用户的主抵押品（无论是现货资产还是保证金），并处理最终结算的状态变化。
- 辐条：针对每个市场（例如 MON/USDC 或 MON-PERP），部署一个独立的轻量级Market Logic 合约。该“辐条”从枢纽读取可用资金，并负责在其特定市场上下单和管理订单。

当一个辐条合约（例如 BTC-PERP 市场）成交时，它会将交易变化报告给中心合约。中心合约会更新主账户的状态，所有其他辐条合约会自动读取此新状态并相应地调整各自的订单。这种模块化设计增强了安全性，简化了升级，并与 Monad 的并行架构自然契合，使整个系统更加健壮和高效。

PLOB 模型就像是 Monad 并行化架构优势的典型代表。
- 并行执行解决了级联问题：初始交易更新流动性提供者的主账户（一个连续步骤）后，所有其他关联订单簿的后续更新非常适合并行执行。Monad 可以同时处理 MON/ETH、MON/SOL 和 MON/Nth 订单簿上的订单取消和替换，将复杂的瓶颈转化为可管理的高速操作。
- 高吞吐量和 MonadDb：Monad 巨大的 gas 容量使得这些多状态更新的成本变得可以承受，而 MonadDb 处理并行数据库读取的能力使系统能够同时有效地检查主保险库和所有卫星订单簿的状态。

PLOB 将被动的 LP 资本转变为动态、高效的做市引擎，这一愿景只有通过高性能、并行化的环境才能实现。

### PLOB 要点：最强大的原生流动性基础

既是 PLOB 又是 Omnibook 的 DEX 会创建一个强大的、自我强化的循环：
- 更深层次的“最后手段”：PLOB 确保 DEX 自身的原生订单簿拥有极高的深度和效率。这意味着 Omnibook 的智能路由器拥有绝佳的“默认”选项。如果无法从外部找到更优价格，它始终可以依靠自身超高效的原生市场。这使得整个 DEX 更加稳健。
- 为解决方案提供商提供更优惠的定价：当 DEX 向解决方案提供商网络广播交易意图时，解决方案提供商可以利用 DEX 自身深厚的、由 PLOB 驱动的原生流动性作为来源，帮助其完成订单。解决方案提供商可以从私有来源完成 70% 的订单，并从 DEX 自身的订单簿中完成最后 30% 的订单。PLOB 使 DEX 成为整个解决方案提供商生态系统更具吸引力的合作伙伴。
- 极致用户体验：用户无需了解或关心流动性来源，也无需关心它是真实的还是虚拟的。他们只会看到一个极其丰富的订单簿。当他们下达市价单时，Omnibook 的路由器会找到最佳价格，无论是来自外部 AMM 还是来自内部 PLOB 保险库。当他们成为 LP 时，PLOB 允许他们通过单笔存款为整个 DEX 生态系统提供流动性。

PLOB 创建了最强大的本地流动性基础，而 Omnibook 则在此基础上将其与整个外部流动性领域相连接。
仅具备其中一项功能的 DEX 就堪称创新。而同时具备两项功能的 DEX 则堪称真正的“品类杀手”。但我们的计划远不止于此。如果能让现有的闲置流动性发挥更大的作用，从而产生更高的收益，那会怎样？

## 3. 借贷一体化：让闲置资本发挥作用

第三项也是最后一项创新是打破交易和借贷之间的壁垒。真正的下一代去中心化交易所 (DEX) 可以垂直整合自身的借贷市场，创建一个共享流动性池，让同一池中的资产可以同时用于掉期、杠杆交易和借贷。这将大幅提升资本效率，并释放新的金融原语。

##### 核心理念：让每一项资产都富有成效

在这个模型中，DEX 内的任何闲置流动性——无论是 LP 在集中流动性库中超出范围的资产，还是支持交易者头寸的保证金抵押品——都会自动存入 DEX 的原生借贷市场以赚取收益。
让我们探索一下这个解锁的简单而强大的用例。

### 简单用例
##### 示例 1：收益率增强型 LP
- 设置：Alice 向 MON/USDC 集中流动性金库提供流动性，金额在 0.95 美元至 1.05 美元之间。MON 的当前价格为 1.00 美元。她的流动性处于活跃状态。
- 创新点：市场波动，MON 升至 1.10 美元。Alice 的仓位现在全部是 USDC，她的资金处于闲置状态，超出了交易范围，交易手续费为零。在传统的 DEX 中，这些资金相当于死资本，等待着重新进入交易范围，除非 Alice 手动进行再平衡。
- 集成的 DEX：系统会自动检测到 Alice 的 USDC 处于闲置状态，并将其存入原生借贷池。Alice 可以立即开始赚取浮动借贷年利率 (APR)，即使她的 LP 仓位仍然保持开放。如果 MON 的价格回落至 Alice 的区间，USDC 将被自动从借贷池中取出，并再次可供交易，整个过程无缝衔接，Alice 无需采取任何行动。

##### 示例 2：资本高效的杠杆交易者
- 操作步骤：Bob 想做多 ETH，做多 5 倍杠杆。他存入 1,000 美元 USDC 作为保证金。
- 集成式 DEX：该协议从共享流动性池中借入价值 4,000 美元的 ETH 来创建他的仓位。但至关重要的是，Bob 自己的 1,000 美元 USDC 保证金抵押品并非只是闲置在那里。它还会自动存入借贷池，并开始为他赚取被动利息。
- 好处：Bob既参与了杠杆交易，又能从其标的抵押品中赚取收益。这种资产的“双重用途”极大地提高了交易者的资金效率。

通过此功能，交易者可以选择将支持其剩余限价订单的资金自动存入其自己的借贷市场，甚至是外部借贷市场或金库（例如 Aave）。
当接受者的订单与剩余限价订单匹配时，系统将执行原子提现和掉期：它会立即从收益库中提取所需资金，并通过单一无缝交易执行交易。交易者在其流动性被使用之前一直获得收益。
这将标准 CLOB 转变为一种动态的、可产生收益的工具，为做市商和交易员下达更多限价订单和深化账簿流动性提供了强大的激励。

### 新基元 #1：无清算杠杆

这种深度整合将催生全新的金融产品。想象一下，一种无需清算即可获得杠杆的方法。具体做法是，允许交易者直接从AMM池中按特定未来价格点闲置的流动性中借入固定期限的流动性。
- 设定：一位交易者希望做多 ETH 的杠杆敞口。当前价格为 3,000 美元（我们称之为 Tick 50）。一位流动性提供者提供了大量 ETH 流动性，集中在 Tick 60，对应未来价格为 3,100 美元。这些 ETH 是闲置资产，已承诺但尚未激活。
- “Tick 借款”：该协议允许交易者在 Tick 60 时向 LP 支付少量预付费用。作为交换，他们获得在固定期限内（例如一小时）使用（借用）该 ETH 的权利。

通过实际的期权交易可以更好地理解这种机制的收益：泰勒斯和橄榄压榨机的故事。
- LP是橄榄压榨机（闲置的 ETH）的所有者。
- 交易员是Thales ，他相信橄榄（ETH 价格）的需求将会上升，并希望获得杠杆敞口。
- “Tick Borrow”费用是泰雷兹为获得橄榄压榨机的使用权而向橄榄压榨机所有者（LP）支付的押金，比如说 10 美元。

现在，让我们看看最终的两种回报情景。

##### 情景 1：价格维持在 3,100 美元以下（收成不佳）
- 交易：在固定期限结束时，ETH 的价格未突破 3,100 美元。以 3,100 美元的价格获取 ETH 的权利毫无价值。
- 比喻：橄榄收成不好。泰勒斯失去了10美元的押金和尊严，而印刷厂老板却扣留了押金，并嘲笑他竟然相信橄榄（ETH）的需求会增加。
- 结算和 LP 收益：交易者的期权到期。LP 的 ETH 从未动过。LP 的收益显而易见：他们可以将交易者支付的全部费用作为纯无风险收益保留。他们只需将资产借出即可获得额外收益。

##### 情景2：价格上涨至3,100美元以上（丰收）
- 交易：在固定期限结束时，ETH 的价格奇迹般地达到了 3,200 美元。交易者以 3,100 美元的价格获取 ETH 的权利，将带来丰厚的利润。
- 比喻：橄榄产量巨大，现在人们需要橄榄压榨机来压榨成橄榄油。泰雷兹现在控制着压榨机的供应，并且可以以高价出租。
- 结算和流动性提供者 (LP) 收益：从流动性提供者 (LP) 的角度来看，假设他们的 ETH 被集中放置在 3,000 美元到 3,100 美元的区间内。当 ETH 价格突破 3,100 美元时，他们的 ETH 无论如何都会被 AMM 的核心机制自然地卖出换取 USDC 。协议确保了这一过程完美无缺。交易者现在控制着价值 3,200 美元的 ETH，并在公开市场上（或通过 DEX 的掉期功能）将其卖出，用 3,100 美元的收益以 USDC 的形式全额支付给 LP，并保留 100 美元的差额。因此，交易者花费 10 美元赚取 100 美元（90 美元的利润）。LP 获得了完美的补偿，获得了他们在集中流动性时应得的收益，以及他们收取的初始费用。

##### 缺点和基于 Vault 的解决方案

这种强大机制的主要缺点在于，它依赖于单个流动性提供者手动将流动性置于特定的、集中的范围内。而这种期望在规模化的情况下是不现实的。
这正是 DEX 可以进一步创新的地方，它提供复杂的结构化金库（Structured Vaults ），可以由协议本身运营，也可以由经验丰富的做市合作伙伴运营。流动性提供者（LP）不再需要考虑价格变动或价格波动范围。他们只需将单一资产（例如 ETH）存入金库即可。金库的自动化策略将承担一项复杂的任务，即把流动性分配到未来各个价格变动之间，从而有效地将流动性提供者的闲置资产转化为“期权写入”收益产品。这使得被动流动性提供者能够访问整个原始机制，并确保始终有充足的“变动流动性”供交易者借用。

### 新基元 #2：做空新发行的代币

当今 DeFi 最大的低效之处之一是新代币发行的片面性。在那些旨在快速、无需许可地创建代币的平台上，市场往往纯粹由买方炒作驱动，缺乏卖方价格发现的自然机制。如果交易者认为某个新代币毫无价值，他们就无法在市场上表达自己的观点。
集成借贷模型通过对 DEX 上推出的任何代币进行无需许可的卖空，从根本上解决了这个问题。

##### 工作原理：

这开启了一个简单而强大的卖空机制：
- 事件背景：一个新的代币$SHITCOIN在DEX上线。一位交易员认为它被高估了，价格将会下跌
- 存入抵押品：交易者首先将一笔受信任的资产（例如USDC 或原生 MON 代币）存入其在 DEX 上的主要保证金/借贷账户。该抵押品将作为贷款的保证金。
- 借款：系统会检查用户提交的抵押品价值，并允许用户借入 $SHITCOIN，最高借款额度为一定的安全贷款价值比 (LTV)。借入的 $SHITCOIN 直接来自 SHITCOIN/MON 池中流动性提供者 (LP) 提供的流动性。
- 卖空：他们立即在DEX的现货市场上出售借入的$SHITCOIN，获得MON作为回报。此时，他们就“做空”了该代币。
- 平仓：为了平掉空头仓位，交易者需要进行相反的操作：
        他们从现货市场回购相同数量的 $SHITCOIN（理想情况下价格要低得多）。
        他们向流动资金池偿还 $SHITCOIN 贷款，加上任何累计的借款利息。
        一旦偿还贷款，他们原来的 USDC 或 MON 抵押品将被全部解锁并返还给他们。利润是他们通过高卖低买获得的 MON 减去借款费用。

##### 影响：从第一天起就成熟的市场

这一功能将彻底改变市场的健康和效率。
- 双边价格发现：新代币发行首次同时面临投机者买方压力和怀疑者卖方压力。这将使价格发现过程更加快速和合理。
- 防范诈骗：此功能本身就足以抑制不良行为者的动机。在此 DEX 上发行毫无价值的代币意味着它可能会被立即清空，这为维护市场健康提供了一个强大的社区驱动机制。

当然，这也伴随着其自身的风险动态。
- 为新代币提供流动性的 LP 承担着其资产被卖空的风险，而借入这些波动性资产的利率需要动态地升高以补偿他们。
- 如果代币价格上涨，空头的抵押品可能会被清算。

但关键在于，它提供了一个公平的竞争环境，而不是一个一边倒的赌场。这使得DEX从诞生之日起就成为了认真交易者和成熟资产的聚集地。

### Monad 如何使这个集成 DEX 变得可行

这种具有综合借贷和高级衍生品的自给自足的 DEX 的愿景是链上复杂性的顶峰（需要同时管理掉期、贷款、抵押品、动态利率和复杂的结算逻辑），这可能会在顺序链上造成拥挤。

以下是 Monad 实现这一目标的众多方法中的一部分：
- 为复杂原语提供稳健的结算层：诸如“基于 tick 的借贷”等高级功能需要在结算时进行复杂的多步骤交易。Monad 的高 Gas 限额和异步执行机制，在每个区块中创造了必要的时间和计算预算，从而能够可靠且原子地结算这些复杂的交易，避免因“耗尽 Gas”错误而导致交易失败，从而让开发者充满信心地构建这些功能。
- 更安全的混合预言机模型：虽然 DEX 可以使用其内部的 TWAP 来定价，但这会带来操纵风险。更安全的模型是混合模型。Monad 的高交易频率使内部 TWAP 更加稳健，更难被操纵。其亚秒级的出块时间允许外部预言机进行高频更新，这可以充当关键的低延迟“护栏”，检测异常并保护协议。
- 成熟合作伙伴的先决条件：结构化金库等功能的成功取决于吸引成熟的做市合作伙伴来运营。这些专业的参与者对三件事极为敏感：运营成本（Gas）、执行风险（延迟）和系统性平台风险。Monad 拥有独特的优势，可以满足这三个要求。
  - 成本和延迟：它提供了一个具有超低交易成本和最小延迟风险（通过 1 秒确定性）的环境，使高级策略在链上运行具有盈利能力且切实可行。
  - 韧性与抗审查性：Monad 致力于真正的去中心化（超过 100 个验证者节点，且这些验证者节点并非位于同一地点，而是分布在全球），这为其提供了至关重要的安全保障。对于机构合作伙伴而言，这并非意识形态上的偏好，而是一项根本性的风险评估。这确保了其复杂、高价值的交易不会被任意阻止，并且平台不会受到任何地理或监管故障的影响。
![CD9](/blog/CD9.jpg)

这些原因正是为什么球队喜欢@CapricornDEX由 dYdX 和 Robinhood 的资深人士创立，他们正在为专业做市商构建这类复杂的高频交易 (HFT) 级流动性解决方案。Monad 的技术性能与可靠的中立性相结合，吸引了机构级的参与。

![CD10](/blog/CD10.jpg)

## 结论：十亿美元 DEX 的蓝图

打造一个引领行业潮流的 DEX 之路并非循序渐进，而是建立在基础性变革之上，旨在解决数十亿美元的核心问题：流动性碎片化、资本效率低下和资产闲置。
我们探索的三项创新，即Omnibook 、并行流动性订单簿和综合借贷，不仅仅是功能；它们是真正的 DeFi 强国的架构支柱。
每一个项目单独来看都引人入胜，但合在一起，它们就形成了一个自我强化的飞轮：
- Omnibook吸收了整个外部流动性，解决了市场深度问题。
- PLOB引擎让每一美元的原生资本都发挥超高效率，解决资本效率问题。
- 综合借贷将整个平台变成一个收益产生机器，解决资产生产率问题。

构建这个统一的系统是一项巨大的工程挑战。它需要的不仅仅是一个快速的区块链；它需要一个建立在两个基本原则之上的平台：前所未有的性能和不可动摇的中立性。

这就是 Monad 论题中关于不牺牲速度的论点变得清晰的地方。
1. 性能：异步和并行执行的强大功能、 MonadDb的高效性、每区块 10 亿的 Gas消耗以及1 秒的最终确定性是技术前提。正是这些因素使得高频状态更新、复杂的原子结算以及实时风险管理在计算和经济上都变得可行。
2. 真正的去中心化：Monad 对去中心化的承诺，对于成为所有金融领域的区块链至关重要。对于实现这一愿景所需的成熟合作伙伴和机构资本而言，这并非意识形态的偏好，而是一项根本性的风险评估。它保证了可信的中立性，并能够抵御单点地理或监管故障。

这份蓝图并非为胆小者而生。它面向的是那些不仅想创建另一个 DEX，更想构建 DeFi 未来基础设施的建设者。
DeFi 的未来需要大胆的构想。在 Monad，我们不仅要构建更快的区块链，更要为开发者打造一个平台，让他们能够实现不可能。
